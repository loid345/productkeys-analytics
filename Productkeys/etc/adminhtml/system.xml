<?xml version="1.0" ?>
<!--
/**
 * Dart_Productkeys Admin Config
 *
 * @package		Dart_Productkeys
 *
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
	<system>
		<tab id="dart" sortOrder="5">
			<label>Dart</label>
		</tab>
		<section id="productkeys" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1" >
			<class>separator-top</class>
			<label>Product Keys</label>
			<tab>dart</tab>
			<resource>Dart_Productkeys::productkeys_config</resource>
			<group id="general" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
				<label>General Configuration</label>
				<field id="issue_invoice" type="select" sortOrder="1" showInDefault="1" showInWebsite="1" showInStore="1" >
					<label>Issue When Invoiced</label>
					<source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Enable automatic issuing of productkeys to order when invoiced and paid.</comment>
				</field>
				<field id="productkeys_updatestock" type="select" sortOrder="3" showInDefault="1" >
					<label>Update Product Quantity and Stock</label>
					<source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Update product quantity and stock status based on number of productkeys available.</comment>
				</field>
				<field id="productkeys_type" type="text" sortOrder="2" showInDefault="1" showInWebsite="1" showInStore="1" >
					<label>Product Key Type</label>
					<comment>Sent as title along with keys (e.g. License Key, Activation Key). Defaults to "Productkey", if left empty.</comment>
				</field>
				<field id="productkeys_not_available" type="text" sortOrder="3" showInDefault="1" showInWebsite="1" showInStore="1" >
					<label>Not Available Message</label>
					<comment>Message displayed to customer when no productkeys are available to issue. Defaults to "Oops! No Productkey Available right now. Please call or email." if left empty.</comment>
				</field>
				<field id="productkeys_send_email" type="select" sortOrder="4" showInDefault="1" showInWebsite="1" showInStore="1" >
					<label>Send Customer Email</label>
					<source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Setup an email id if you want to receive copy of each Product key Delivery emails. Leave blank if you don't want to receive email copies.</comment>
				</field>
				<field id="productkeys_copy_email" type="text" sortOrder="5" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>CC Email To</label>
					<source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Setup an email id if you want to receive copy of each Product key Delivery emails. Leave blank if you don't want to receive email copies.</comment>
				</field>
				<field id="productkeys_email_template" type="select" sortOrder="6" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>Delivery Email Template</label>
					<source_model>Dart\Productkeys\Model\Config\Source\Templateoptions</source_model>
					<comment>Email template to use for delivering productkeys to customer.</comment>
				</field>
				<field id="productkeys_low_warning" type="select" sortOrder="7" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>Send Low Warning Email</label>
					<source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Send warning message by email when remaining productkeys are getting low.</comment>
				</field>
				<field id="productkeys_warning_template" type="select" sortOrder="8" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>Low Warning Template</label>
					<source_model>Dart\Productkeys\Model\Config\Source\Templateoptions</source_model>
					<comment>Email template to use for the warning message.</comment>
				</field>
				<field id="productkeys_warning_level" type="text" sortOrder="9" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>Low Warning Level</label>
					<comment>Notify when remaining productkeys reaches this number.</comment>
				</field>
				<field id="productkeys_warning_email" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>Email Low Warning To</label>
					<comment>Separate each provided email address with semicolons</comment>
				</field>

				<field id="post_to_api" type="select" sortOrder="11" showInDefault="1" showInWebsite="1" showInStore="1">
					<label>Post to an API</label>
					<source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
					<comment>Select Yes to use API</comment>
				</field>
				<field id="api_endpoint" translate="label" type="text" sortOrder="12" showInDefault="1" showInWebsite="1" showInStore="1">
						<label>API Endpoint</label>
						<depends>
								<field id="post_to_api">1</field> <!-- Show when "Yes" is selected -->
						</depends>
				</field>
				<field id="api_method" translate="label" type="select" sortOrder="13" showInDefault="1" showInWebsite="1" showInStore="1">
						<label>API Method</label>
						<depends>
								<field id="post_to_api">1</field> <!-- Show when "Yes" is selected -->
						</depends>
						<source_model>Dart\Productkeys\Model\Config\Source\ApiMethod</source_model>
				</field>
				<field id="api_auth_type" translate="label" type="select" sortOrder="14" showInDefault="1" showInWebsite="1" showInStore="1">
						<label>API Authentication Type</label>
						<source_model>Dart\Productkeys\Model\Config\Source\ApiAuthType</source_model>
						<depends>
								<field id="post_to_api">1</field> <!-- Show when "Yes" is selected -->
						</depends>
				</field>
				<field id="api_auth_header" translate="label" type="textarea" sortOrder="15" showInDefault="1" showInWebsite="1" showInStore="1">
						<label>API Authentication Header</label>
						<comment>Specify the API Authentication Header like this (e.g., for API Key {"name": "value"}, for Basic Authentication {"username": "password"} ).</comment>
						<depends>
								<field id="post_to_api">1</field> <!-- Show when "Yes" is selected -->
						</depends>
				</field>
				<field id="api_request_body" translate="label" type="textarea" sortOrder="16" showInDefault="1" showInWebsite="1" showInStore="1">
						<label>API Request Body</label>
						<comment>Specify the API request body with placeholders in object format (e.g., "{ {user_name} }", "{ {user_email} }", "{ {product_name} }", "{ {product_code} }", "{ {product_key} }") The result will be in Array of Object format.</comment>
						<depends>
								<field id="post_to_api">1</field> <!-- Show when "Yes" is selected -->
						</depends>
				</field>
				<field id="api_content_type" translate="label" type="select" sortOrder="17" showInDefault="1" showInWebsite="1" showInStore="1">
						<label>API Content Type</label>
						<depends>
								<field id="post_to_api">1</field> <!-- Show when "Yes" is selected -->
						</depends>
						<comment>Specify the content type for API requests.</comment>
						<source_model>Dart\Productkeys\Model\Config\Source\ApiContentTypes</source_model>
				</field>
			</group>
		</section>
	</system>
</config>